<!-- <app-navbar></app-navbar> -->
<!-- <div class="row" *ngIf="buyMsg">
    <div class="col-12">
        <p class="alert alert-success">
            <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
            <strong>Succefully Shopped!</strong>
        </p>
    </div>
</div> -->
<div class="containerclass">
    <ng-container>
        <div class="row">
            <div class="col-lg-10">
                <div class="card">
                    <div class="card-header">
                        <div class="row">
                            <div class="col-11 text-left">
                                <h5>Shopping Cart</h5>
                            </div>
                            <div class="col-1 text-center" style="padding: 0px !important;margin:0px !important;">
                                <label style="font-weight:bold;margin-left:30px">Price</label>
                            </div>
                        </div>
                    </div>
                    <div class="card-body" style="overflow:auto">
                        <div *ngIf="CartTotal == 0">
                            <h5 class="text-center">No Items in cart</h5>
                        </div>
                        <div class="row" *ngFor="let item of cartItem; index as i">
                            <div class="col-2 text-center">
                                <img src="{{item.product?.image}}" alt="" width="130px">
                            </div>
                            <div class="col-10" style="margin-top: 10px;">
                                <div class="row">
                                    <div class="col-11">
                                        <label class="title">{{item.product?.title}}</label>
                                        <a [routerLink]="['/Products/P',item.productId]">Click to View Detail</a>
                                    </div>
                                    <div class="col-1 text-center">
                                        <label style="font-weight: bold;">
                                            {{item.product?.price | discount1:10 | currency:"INR"}}
                                        </label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-10">
                                        <img src="../../assets/dark best seller.png" alt="Best Seller" height="20px">
                                    </div>
                                </div>
                                <!-- <div class="row">
                                <div class="col-10">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" style="margin-top: -8px;"
                                        fill="currentColor" class="bi bi-dash-square" viewBox="0 0 16 16">
                                        <path
                                            d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
                                        <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z" />
                                    </svg>
                                    <input type="number" class="textbox" value="1">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" style="margin-top: -8px;"
                                        fill="currentColor" class="bi bi-plus-square" viewBox="0 0 16 16">
                                        <path
                                            d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
                                        <path
                                            d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                                    </svg>
                                </div>
                            </div> -->
                                <div class="row">
                                    <div class="col-10">
                                        <label class="blinking" style="color:rgb(111, 108, 108);font-size: 13px;">FREE
                                            Shipping !</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-10">
                                        <img src="../../assets/fulfilled1.png" alt="Fullfilled" height="20px">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-10">
                                        <label style="font-weight: bold;">Brand: </label> {{item.product?.brand}}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-10">
                                        <label style="font-weight: bold;">Quantity: </label> &nbsp;
                                        <!-- {{item.quantity}} -->
                                        <app-quantityadjustment [intValue]="item.quantity"
                                            (intValueChanged)="quantityChanged(i, $event)">
                                        </app-quantityadjustment>
                                        <button class="delbutton" (click)="removeProductFromCart(item.id)"> Delete
                                        </button>
                                    </div>
                                </div>

                            </div>
                            <hr style="margin-top: 20px;;margin-left:10px;width:98.5%">
                        </div>

                    </div>
                    <div class="card-footer">
                        <div class="row" *ngIf="CartTotal != 0">
                            <div class="col-11 text-end">
                                <label style="color: #007aca;font-weight: 600;">Total: </label>
                            </div>
                            <div class="col-1 text-center" *ngIf="totalDisplay">
                                <label style="font-weight: bold;">{{ cartItem | cartTotal | discount1 :10 | currency :
                                    "INR" }} </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-2">
                <div class="card" style="margin: 1% 0%;">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12 text-center"
                                style="border-top: 1px solid grey;border-bottom: 1px solid grey;">
                                I
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="red"
                                    class="bi bi-heart-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z" />
                                </svg> OS
                            </div>
                        </div>


                        <!-- <button class="btn buttons mx-auto" (click)="createOrder()">Proceed to Buy</button> -->
                        <div *ngIf="CartTotal != 0">
                            <div class="row">
                                <div class="col-12">
                                    <i class="fa fa-quote-left" style="color:#007aca;font-size: 18px;"></i>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 text-center">
                                    <label style="color: black;">Hurray!, You are almost there. Enjoy Shopping</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 text-end">
                                    <i class="fa fa-quote-right text-end" style="color:#007aca;font-size: 18px;"></i>
                                </div>
                            </div><br>
                            <button type="button" class="btn buttons mx-auto" data-toggle="modal"
                                data-target="#myModal">Proceed to Buy</button>
                        </div>
                       
                    </div>
                </div>
            </div>
            <!-- <td>{{item.product?.price | currency:"INR"}}</td>
                    <td>
                        <app-int-spinner
                            [intValue]="item.quantity"
                            (intValueChanged)="quantityChanged(i,$event)">
                       </app-int-spinner>
                    </td>
                    <td>{{item.product?.price ?? 0 * item.quantity | currency : "INR"}}</td> -->
        </div>

        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Ordering Process</h5>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>

                    </div>
                    <div class="modal-body">
                        <form [formGroup]="requiredForm" novalidate>
                            <div class="input-group mb-3">
                                <span class="input-group-text" id="name">Name</span>
                                <input type="text" class="form-control" formControlName="name" #name aria-label="name"
                                      (keypress)="(($event.charCode > 64 && $event.charCode < 91) || ($event.charCode > 96 && $event.charCode < 123) || $event.charCode == 8)"
                                      aria-describedby="name">
                            </div>
                            <div
                                *ngIf="requiredForm.controls['name'].invalid && requiredForm.controls['name'].touched ">
                                <div class="error" *ngIf="requiredForm.controls['name'].errors?.['required']">
                                    Name is required.
                                </div>
                            </div>

                            <div class="input-group mb-3">
                                <span class="input-group-text" id="address">Address</span>
                                <input type="text" class="form-control" formControlName="address" #address
                                    aria-label="name" aria-describedby="name">
                            </div>
                            <div
                                *ngIf="requiredForm.controls['address'].invalid && requiredForm.controls['address'].touched ">
                                <div class="error" *ngIf="requiredForm.controls['address'].errors?.['required']">
                                    Address is required.
                                </div>
                            </div>

                            <div class="input-group mb-3">
                                <span class="input-group-text" id="pinCode">PinCode</span>
                                <input type="text" class="form-control" formControlName="pincode" #pinCode
                                    aria-label="name" maxlength="6" aria-describedby="name"
                                    (keypress)="($event.charCode >= 48 && $event.charCode < 58)">
                            </div>
                            <div
                                *ngIf="requiredForm.controls['pincode'].invalid && requiredForm.controls['pincode'].touched ">
                                <div class="error" *ngIf="requiredForm.controls['pincode'].errors?.['required']">
                                    PinCode is required.
                                </div>
                            </div>

                            <div class="input-group mb-3">
                                <span class="input-group-text " id="phoneNo">Phone Number</span>
                                <input type="text" class="form-control" formControlName="phoneNo" #phoneNo
                                    aria-label="name" maxlength="10" aria-describedby="name"
                                    (keypress)="($event.charCode >= 48 && $event.charCode < 58)">
                            </div>
                            <div
                                *ngIf="requiredForm.controls['phoneNo'].invalid && requiredForm.controls['phoneNo'].touched ">
                                <div class="error" *ngIf="requiredForm.controls['phoneNo'].errors?.['required']">
                                    Phone No is required.
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn buttons" [disabled]="requiredForm.invalid"
                            (click)="createOrder()" data-dismiss="modal">Place Order</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>

    </ng-container>
</div>